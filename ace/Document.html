        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>Document class / ace Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="ace" data-type="Document">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../ace.html">ace</a> &rsaquo; <a href="../ace/Document.html">Document</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>Document</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>Encapsulates the text of a document. </p>
<p>At its core, a <a class="crossref" href="../ace/Document.html">Document</a> is just an array of strings where the index of the
array points to a row in the document.</p>
<p>An instance of <a class="crossref" href="../ace/Document.html">Document</a> may be attached to more than one <a class="crossref" href="../ace/EditSession.html">EditSession</a>.</p>
<pre class="source">
class Document extends _HasProxy {
 js.Callback _jsOnChange;
 final _onChange = new StreamController&lt;Delta&gt;.broadcast();
 /// Fired whenever this document changes.
 Stream&lt;Delta&gt; get onChange =&gt; _onChange.stream;
 
 /// All the lines in this document.
 Iterable&lt;String&gt; get allLines =&gt;
     json.parse(_context.JSON.stringify(_proxy.getAllLines()));
 
 /// The number of rows in this document.
 int get length =&gt; _proxy.getLength();
 
 /// The current newline character, based on the current [newLineMode].
 String get newLineCharacter =&gt; _proxy.getNewLineCharacter();
   
 // TODO(rms): enum
 /// The new line mode.  May be one of `windows`, `unix` or `auto`.  
 String 
   get newLineMode =&gt; _proxy.getNewLineMode();
   set newLineMode(String newLineMode) =&gt; _proxy.setNewLineMode(newLineMode);
   
 /// All the lines in this document as a single string, split by the 
 /// [newLineCharacter].  
 String
   get value =&gt; _proxy.getValue();
   set value(String text) =&gt; _proxy.setValue(text);

 /// Creates a new Document with the given [text], if any, or else it is empty.
 Document([String text = '']) : this._(
     new js.Proxy(_context.ace.define.modules['ace/document'].Document, text));
   
 Document._(js.Proxy proxy) : super(proxy) {
   _jsOnChange = new js.Callback.many((e,__) =&gt; 
       _onChange.add(new Delta._for(e.data)));
   _proxy.on('change', _jsOnChange);
 }
 
 void _onDispose() {
   _onChange.close();
   _jsOnChange.dispose();
 }
 
 /// Applies all of the given [deltas] to this document in the order given.
 void applyDeltas(Iterable&lt;Delta&gt; deltas) =&gt;
     _proxy.applyDeltas(js.array(deltas.map((delta) =&gt; delta._toProxy())));
 
 /// Returns a verbatim copy of the given line [row] as it is in this document.
 String getLine(int row) =&gt; _proxy.getLine(row);
 
 /// Inserts a block of [text] at the given [position] and returns a point at
 /// the end of the inserted text.  This method also fires an [onChange] event.
 Point insert(Point position, String text) =&gt;
     new Point._(_proxy.insert(position._toProxy(), text));
 
 /// Inserts [text] into the [position] at the current row and returns a point
 /// at the end of the inserted text.  This method also fires an [onChange]
 /// event.
 Point insertInLine(Point position, String text) =&gt;
     new Point._(_proxy.insertInLine(position._toProxy(), text));
 
 /// Inserts the given [lines] into the document, starting at the given [row]
 /// and returns a point at the end of the inserted lines.  This method also 
 /// fires an [onChange] event.
 Point insertLines(int row, Iterable&lt;String&gt; lines) =&gt;
     new Point._(_proxy.insertLines(row, js.array(lines)));
 
 /// Inserts a [newLineCharacter] into this document at the current row's 
 /// position and returns a point at the end of the insertion.  This method 
 /// also fires an [onChange] event.
 Point insertNewLine(Point position) =&gt;
     new Point._(_proxy.insertNewLine(position._toProxy()));
 
 /// Returns `true` if [text] is a newline character.  That is, one of `\r\n`, 
 /// `\r` or `\n`.
 bool isNewLine(String text) =&gt; _proxy.isNewLine(text);      
 
 /// Converts the given [position] in this document to the character's index.
 /// Index refers to the "absolute position" of a character in this document.
 /// For example:
 ///     var x = 0; // 10 characters, plus one for newline
 ///     var y = -1;
 /// Here, `y` has an index of `15`; `10` characters for the first row, a
 /// newline character, and `5` characters until `y` in the second row.    
 int positionToIndex(Point position, int startRow) =&gt;
     _proxy.positionToIndex(position._toProxy(), startRow);
 
 /// Removes the given [range] from this document.
 Point remove(Range range) =&gt; new Point._(_proxy.remove(range._toProxy()));
 
 /// Removes the range specified by [row/startColumn] -&gt; [row/endColumn] and 
 /// returns the removed [range.start] point.  This method also fires an
 /// [onChange] event.
 Point removeInLine(int row, int startColumn, int endColumn) =&gt;
     new Point._(_proxy.removeInLine(row, startColumn, endColumn));
 
 /// Removes the range of lines from the given [startRow] -&gt; [endRow] and
 /// returns the removed lines.  This method also fires an [onChange] event.
 Iterable&lt;String&gt; removeLines(int startRow, int endRow) =&gt;
     json.parse(_context.JSON.stringify(_proxy.removeLines(startRow, endRow)));
 
 /// Removes the [newLineCharacter] between the given [row] and the row 
 /// immediately following it.  This method also fires an [onChange] event.
 void removeNewLine(int row) =&gt; _proxy.removeNewLine(row);
 
 /// Replaces a given [range] in this document with the new [text] and returns
 /// a point at the end of the new text.
 Point replace(Range range, String text) =&gt; 
     new Point._(_proxy.replace(range._toProxy(), text));
 
 /// Reverts all of the given [deltas] to this document in reverse of the 
 /// order given.
 void revertDeltas(Iterable&lt;Delta&gt; deltas) =&gt; 
     _proxy.revertDeltas(js.array(deltas.map((delta) =&gt; delta._toProxy())));
}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../ace/_HasProxy.html">_HasProxy</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>Document</strong></span></p>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="">
<button class="show-code">Code</button>
new <strong>Document</strong>([String text = '']) <a class="anchor-link" href="#"
              title="Permalink to Document.Document">#</a></h4>
<div class="doc">
<p>Creates a new Document with the given 
<span class="param">text</span>, if any, or else it is empty.</p>
<pre class="source">
Document([String text = '']) : this._(
   new js.Proxy(_context.ace.define.modules['ace/document'].Document, text));
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="allLines">
<button class="show-code">Code</button>
final Iterable&lt;String&gt;         <strong>allLines</strong> <a class="anchor-link"
            href="#allLines"
            title="Permalink to Document.allLines">#</a>
        </h4>
        <div class="doc">
<p>All the lines in this document.</p>
<pre class="source">
Iterable&lt;String&gt; get allLines =&gt;
   json.parse(_context.JSON.stringify(_proxy.getAllLines()));
</pre>
</div>
</div>
<div class="field inherited"><h4 id="isDisposed">
<button class="show-code">Code</button>
final bool         <strong>isDisposed</strong> <a class="anchor-link"
            href="#isDisposed"
            title="Permalink to Document.isDisposed">#</a>
        </h4>
        <div class="inherited-from">inherited from <a href="../ace/_HasProxy.html">_HasProxy</a> </div><div class="doc">
<pre class="source">
bool get isDisposed =&gt; _proxy == null;
</pre>
</div>
</div>
<div class="field"><h4 id="length">
<button class="show-code">Code</button>
final int         <strong>length</strong> <a class="anchor-link"
            href="#length"
            title="Permalink to Document.length">#</a>
        </h4>
        <div class="doc">
<p>The number of rows in this document.</p>
<pre class="source">
int get length =&gt; _proxy.getLength();
</pre>
</div>
</div>
<div class="field"><h4 id="newLineCharacter">
<button class="show-code">Code</button>
final String         <strong>newLineCharacter</strong> <a class="anchor-link"
            href="#newLineCharacter"
            title="Permalink to Document.newLineCharacter">#</a>
        </h4>
        <div class="doc">
<p>The current newline character, based on the current <a class="crossref" href="../ace/Document.html#newLineMode">newLineMode</a>.</p>
<pre class="source">
String get newLineCharacter =&gt; _proxy.getNewLineCharacter();
</pre>
</div>
</div>
<div class="field"><h4 id="newLineMode">
<button class="show-code">Code</button>
String         <strong>newLineMode</strong> <a class="anchor-link"
            href="#newLineMode"
            title="Permalink to Document.newLineMode">#</a>
        </h4>
        <div class="doc">
<p>The new line mode.  May be one of <code>windows</code>, <code>unix</code> or <code>auto</code>.  </p>
<pre class="source">
String 
 get newLineMode =&gt; _proxy.getNewLineMode();
</pre>
<pre class="source">
set newLineMode(String newLineMode) =&gt; _proxy.setNewLineMode(newLineMode);
</pre>
</div>
</div>
<div class="field"><h4 id="onChange">
<button class="show-code">Code</button>
final Stream&lt;<a href="../ace/Delta.html">Delta</a>&gt;         <strong>onChange</strong> <a class="anchor-link"
            href="#onChange"
            title="Permalink to Document.onChange">#</a>
        </h4>
        <div class="doc">
<p>Fired whenever this document changes.</p>
<pre class="source">
Stream&lt;Delta&gt; get onChange =&gt; _onChange.stream;
</pre>
</div>
</div>
<div class="field"><h4 id="value">
<button class="show-code">Code</button>
String         <strong>value</strong> <a class="anchor-link"
            href="#value"
            title="Permalink to Document.value">#</a>
        </h4>
        <div class="doc">
<p>All the lines in this document as a single string, split by the 
<a class="crossref" href="../ace/Document.html#newLineCharacter">newLineCharacter</a>.  </p>
<pre class="source">
String
 get value =&gt; _proxy.getValue();
</pre>
<pre class="source">
set value(String text) =&gt; _proxy.setValue(text);
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="applyDeltas">
<button class="show-code">Code</button>
void <strong>applyDeltas</strong>(Iterable&lt;<a href="../ace/Delta.html">Delta</a>&gt; deltas) <a class="anchor-link" href="#applyDeltas"
              title="Permalink to Document.applyDeltas">#</a></h4>
<div class="doc">
<p>Applies all of the given 
<span class="param">deltas</span> to this document in the order given.</p>
<pre class="source">
void applyDeltas(Iterable&lt;Delta&gt; deltas) =&gt;
   _proxy.applyDeltas(js.array(deltas.map((delta) =&gt; delta._toProxy())));
</pre>
</div>
</div>
<div class="method inherited"><h4 id="dispose">
<button class="show-code">Code</button>
void <strong>dispose</strong>() <a class="anchor-link" href="#dispose"
              title="Permalink to Document.dispose">#</a></h4>
<div class="inherited-from">inherited from <a href="../ace/_HasProxy.html">_HasProxy</a> </div><div class="doc">
<pre class="source">
void dispose() {
 assert(!isDisposed);
 _onDispose();
 js.release(_proxy);
 _proxy = null;
}
</pre>
</div>
</div>
<div class="method"><h4 id="getLine">
<button class="show-code">Code</button>
String <strong>getLine</strong>(int row) <a class="anchor-link" href="#getLine"
              title="Permalink to Document.getLine">#</a></h4>
<div class="doc">
<p>Returns a verbatim copy of the given line 
<span class="param">row</span> as it is in this document.</p>
<pre class="source">
String getLine(int row) =&gt; _proxy.getLine(row);
</pre>
</div>
</div>
<div class="method"><h4 id="insert">
<button class="show-code">Code</button>
<a href="../ace/Point.html">Point</a> <strong>insert</strong>(<a href="../ace/Point.html">Point</a> position, String text) <a class="anchor-link" href="#insert"
              title="Permalink to Document.insert">#</a></h4>
<div class="doc">
<p>Inserts a block of 
<span class="param">text</span> at the given 
<span class="param">position</span> and returns a point at
the end of the inserted text.  This method also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
<pre class="source">
Point insert(Point position, String text) =&gt;
   new Point._(_proxy.insert(position._toProxy(), text));
</pre>
</div>
</div>
<div class="method"><h4 id="insertInLine">
<button class="show-code">Code</button>
<a href="../ace/Point.html">Point</a> <strong>insertInLine</strong>(<a href="../ace/Point.html">Point</a> position, String text) <a class="anchor-link" href="#insertInLine"
              title="Permalink to Document.insertInLine">#</a></h4>
<div class="doc">
<p>Inserts 
<span class="param">text</span> into the 
<span class="param">position</span> at the current row and returns a point
at the end of the inserted text.  This method also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a>
event.</p>
<pre class="source">
Point insertInLine(Point position, String text) =&gt;
   new Point._(_proxy.insertInLine(position._toProxy(), text));
</pre>
</div>
</div>
<div class="method"><h4 id="insertLines">
<button class="show-code">Code</button>
<a href="../ace/Point.html">Point</a> <strong>insertLines</strong>(int row, Iterable&lt;String&gt; lines) <a class="anchor-link" href="#insertLines"
              title="Permalink to Document.insertLines">#</a></h4>
<div class="doc">
<p>Inserts the given 
<span class="param">lines</span> into the document, starting at the given 
<span class="param">row</span>
and returns a point at the end of the inserted lines.  This method also 
fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
<pre class="source">
Point insertLines(int row, Iterable&lt;String&gt; lines) =&gt;
   new Point._(_proxy.insertLines(row, js.array(lines)));
</pre>
</div>
</div>
<div class="method"><h4 id="insertNewLine">
<button class="show-code">Code</button>
<a href="../ace/Point.html">Point</a> <strong>insertNewLine</strong>(<a href="../ace/Point.html">Point</a> position) <a class="anchor-link" href="#insertNewLine"
              title="Permalink to Document.insertNewLine">#</a></h4>
<div class="doc">
<p>Inserts a <a class="crossref" href="../ace/Document.html#newLineCharacter">newLineCharacter</a> into this document at the current row's 
position and returns a point at the end of the insertion.  This method 
also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
<pre class="source">
Point insertNewLine(Point position) =&gt;
   new Point._(_proxy.insertNewLine(position._toProxy()));
</pre>
</div>
</div>
<div class="method"><h4 id="isNewLine">
<button class="show-code">Code</button>
bool <strong>isNewLine</strong>(String text) <a class="anchor-link" href="#isNewLine"
              title="Permalink to Document.isNewLine">#</a></h4>
<div class="doc">
<p>Returns <code>true</code> if 
<span class="param">text</span> is a newline character.  That is, one of <code>\r\n</code>, 
<code>\r</code> or <code>\n</code>.</p>
<pre class="source">
bool isNewLine(String text) =&gt; _proxy.isNewLine(text);
</pre>
</div>
</div>
<div class="method"><h4 id="positionToIndex">
<button class="show-code">Code</button>
int <strong>positionToIndex</strong>(<a href="../ace/Point.html">Point</a> position, int startRow) <a class="anchor-link" href="#positionToIndex"
              title="Permalink to Document.positionToIndex">#</a></h4>
<div class="doc">
<p>Converts the given 
<span class="param">position</span> in this document to the character's index.
Index refers to the "absolute position" of a character in this document.
For example:</p>
<pre><code>var x = 0; // 10 characters, plus one for newline
var y = -1;
</code></pre>
<p>Here, <code>y</code> has an index of <code>15</code>; <code>10</code> characters for the first row, a
newline character, and <code>5</code> characters until <code>y</code> in the second row.    </p>
<pre class="source">
int positionToIndex(Point position, int startRow) =&gt;
   _proxy.positionToIndex(position._toProxy(), startRow);
</pre>
</div>
</div>
<div class="method"><h4 id="remove">
<button class="show-code">Code</button>
<a href="../ace/Point.html">Point</a> <strong>remove</strong>(<a href="../ace/Range.html">Range</a> range) <a class="anchor-link" href="#remove"
              title="Permalink to Document.remove">#</a></h4>
<div class="doc">
<p>Removes the given 
<span class="param">range</span> from this document.</p>
<pre class="source">
Point remove(Range range) =&gt; new Point._(_proxy.remove(range._toProxy()));
</pre>
</div>
</div>
<div class="method"><h4 id="removeInLine">
<button class="show-code">Code</button>
<a href="../ace/Point.html">Point</a> <strong>removeInLine</strong>(int row, int startColumn, int endColumn) <a class="anchor-link" href="#removeInLine"
              title="Permalink to Document.removeInLine">#</a></h4>
<div class="doc">
<p>Removes the range specified by <code>row/startColumn</code> -> <code>row/endColumn</code> and 
returns the removed <code>range.start</code> point.  This method also fires an
<a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
<pre class="source">
Point removeInLine(int row, int startColumn, int endColumn) =&gt;
   new Point._(_proxy.removeInLine(row, startColumn, endColumn));
</pre>
</div>
</div>
<div class="method"><h4 id="removeLines">
<button class="show-code">Code</button>
Iterable&lt;String&gt; <strong>removeLines</strong>(int startRow, int endRow) <a class="anchor-link" href="#removeLines"
              title="Permalink to Document.removeLines">#</a></h4>
<div class="doc">
<p>Removes the range of lines from the given 
<span class="param">startRow</span> -> 
<span class="param">endRow</span> and
returns the removed lines.  This method also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
<pre class="source">
Iterable&lt;String&gt; removeLines(int startRow, int endRow) =&gt;
   json.parse(_context.JSON.stringify(_proxy.removeLines(startRow, endRow)));
</pre>
</div>
</div>
<div class="method"><h4 id="removeNewLine">
<button class="show-code">Code</button>
void <strong>removeNewLine</strong>(int row) <a class="anchor-link" href="#removeNewLine"
              title="Permalink to Document.removeNewLine">#</a></h4>
<div class="doc">
<p>Removes the <a class="crossref" href="../ace/Document.html#newLineCharacter">newLineCharacter</a> between the given 
<span class="param">row</span> and the row 
immediately following it.  This method also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
<pre class="source">
void removeNewLine(int row) =&gt; _proxy.removeNewLine(row);
</pre>
</div>
</div>
<div class="method"><h4 id="replace">
<button class="show-code">Code</button>
<a href="../ace/Point.html">Point</a> <strong>replace</strong>(<a href="../ace/Range.html">Range</a> range, String text) <a class="anchor-link" href="#replace"
              title="Permalink to Document.replace">#</a></h4>
<div class="doc">
<p>Replaces a given 
<span class="param">range</span> in this document with the new 
<span class="param">text</span> and returns
a point at the end of the new text.</p>
<pre class="source">
Point replace(Range range, String text) =&gt; 
   new Point._(_proxy.replace(range._toProxy(), text));
</pre>
</div>
</div>
<div class="method"><h4 id="revertDeltas">
<button class="show-code">Code</button>
void <strong>revertDeltas</strong>(Iterable&lt;<a href="../ace/Delta.html">Delta</a>&gt; deltas) <a class="anchor-link" href="#revertDeltas"
              title="Permalink to Document.revertDeltas">#</a></h4>
<div class="doc">
<p>Reverts all of the given 
<span class="param">deltas</span> to this document in reverse of the 
order given.</p>
<pre class="source">
void revertDeltas(Iterable&lt;Delta&gt; deltas) =&gt; 
   _proxy.revertDeltas(js.array(deltas.map((delta) =&gt; delta._toProxy())));
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-08-16 10:44:45.607</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
