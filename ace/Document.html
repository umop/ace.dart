        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>Document abstract class / ace Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="ace" data-type="Document">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../ace.html">ace</a> &rsaquo; <a href="../ace/Document.html">Document</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>Document</strong>
          abstract class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>Encapsulates the text of a document. </p>
<p>At its core, a <a class="crossref" href="../ace/Document.html">Document</a> is just an array of strings where the index of the
array points to a row in the document.</p>
<p>An instance of <a class="crossref" href="../ace/Document.html">Document</a> may be attached to more than one <a class="crossref" href="../ace/EditSession.html">EditSession</a>.</p>
<pre class="source">
abstract class Document extends _Disposable {

 /// Fired whenever this document changes.
 Stream&lt;Delta&gt; get onChange;
 
 /// The number of rows in this document.
 int get length;
 
 /// The current newline character, based on the current [newLineMode].
 String get newLineCharacter;
     
 /// The new line mode.  May be one of `windows`, `unix` or `auto`.
 // TODO(rms): enum
 String newLineMode;
   
 /// All the lines in this document as a single string, split by the 
 /// [newLineCharacter].  
 String value;

 /// Creates a new Document with the given [text], if any, or else it is empty.
 /// 
 /// **WARNING** do not set [useExperimental] to `true` in production code; 
 /// this is an experimental flag to enable continuous integration testing of a 
 /// work-in-progress pure Dart implementation, and may be removed at any time.
 factory Document({ String text: '', bool useExperimental: false }) {
   if (useExperimental) {
     return new _Document(text);
   } else {
     return new _DocumentProxy(text);
   }
 }
 
 /// Applies all of the given [deltas] to this document in the order given.
 void applyDeltas(List&lt;Delta&gt; deltas);
 
 /// Creates a new [Anchor] to define a floating point in this document.
 Anchor createAnchor(int row, int column);
 
 /// Returns a copy of all the lines in this document.
 List&lt;String&gt; getAllLines();
 
 /// Returns a copy of the lines between [firstRow] and [lastRow], inclusive.
 List&lt;String&gt; getLines(int firstRow, int lastRow);
 
 /// Returns a verbatim copy of the given line [row] as it is in this document.
 String getLine(int row);
 
 /// Returns all of the text within the given [range] of this document as a 
 /// single string.
 String getTextRange(Range range);
 
 /// Converts the given character [index] in this document to a [Point].
 /// 
 /// Index refers to the "absolute position" of a character in this document.
 /// For example:
 ///     var x = 0; // 10 characters, plus one for newline
 ///     var y = -1;
 /// Here, `y` has an index of `15`; `10` characters for the first row, a
 /// newline character, and `5` characters until `y` in the second row. 
 /// 
 /// The optional [startRow] defaults to `0` and represents the row from which 
 /// to start the conversion.
 Point indexToPosition(int index, {int startRow: 0});
 
 /// Inserts a block of [text] at the given [position] and returns a point at
 /// the end of the inserted text.  This method also fires an [onChange] event.
 Point insert(Point position, String text);
 
 /// Inserts [text] into the [position] at the current row and returns a point
 /// at the end of the inserted text.  This method also fires an [onChange]
 /// event.
 Point insertInLine(Point position, String text);
 
 /// Inserts the given [lines] into the document, starting at the given [row]
 /// and returns a point at the end of the inserted lines.  This method also 
 /// fires an [onChange] event.
 Point insertLines(int row, List&lt;String&gt; lines);
 
 /// Inserts a [newLineCharacter] into this document at the current row's 
 /// position and returns a point at the end of the insertion.  This method 
 /// also fires an [onChange] event.
 Point insertNewLine(Point position);
 
 /// Returns `true` if [text] is a newline character.  That is, one of `\r\n`, 
 /// `\r` or `\n`.
 bool isNewLine(String text);
 
 /// Converts the given [position] in this document to the character's index.
 /// 
 /// Index refers to the "absolute position" of a character in this document.
 /// For example:
 ///     var x = 0; // 10 characters, plus one for newline
 ///     var y = -1;
 /// Here, `y` has an index of `15`; `10` characters for the first row, a
 /// newline character, and `5` characters until `y` in the second row. 
 /// 
 /// The optional [startRow] defaults to `0` and represents the row from which 
 /// to start the conversion.
 int positionToIndex(Point position, {int startRow: 0});
 
 /// Removes the given [range] from this document.
 Point remove(Range range);
 
 /// Removes the range specified by [row/startColumn] -&gt; [row/endColumn] and 
 /// returns the removed [range.start] point.  
 /// 
 /// This method also fires an [onChange] event.
 Point removeInLine(int row, int startColumn, int endColumn);
 
 /// Removes the range of lines from the given [startRow] -&gt; [endRow], 
 /// inclusive, and returns the removed lines.  
 /// 
 /// This method also fires an [onChange] event.
 List&lt;String&gt; removeLines(int startRow, int endRow);
 
 /// Removes the [newLineCharacter] between the given [row] and the row 
 /// immediately following it.  This method also fires an [onChange] event.
 void removeNewLine(int row);
 
 /// Replaces a given [range] in this document with the new [text] and returns
 /// a point at the end of the new text.
 Point replace(Range range, String text);
 
 /// Reverts all of the given [deltas] to this document in reverse of the 
 /// order given.
 void revertDeltas(List&lt;Delta&gt; deltas);
}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../ace/_Disposable.html">_Disposable</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>Document</strong></span></p>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="">
<button class="show-code">Code</button>
factory <strong>Document</strong>({String text: '', bool useExperimental: false}) <a class="anchor-link" href="#"
              title="Permalink to Document.Document">#</a></h4>
<div class="doc">
<p>Creates a new Document with the given 
<span class="param">text</span>, if any, or else it is empty.</p>
<p><strong>WARNING</strong> do not set 
<span class="param">useExperimental</span> to <code>true</code> in production code; 
this is an experimental flag to enable continuous integration testing of a 
work-in-progress pure Dart implementation, and may be removed at any time.</p>
<pre class="source">
factory Document({ String text: '', bool useExperimental: false }) {
 if (useExperimental) {
   return new _Document(text);
 } else {
   return new _DocumentProxy(text);
 }
}
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="length">
<button class="show-code">Code</button>
final int         <strong>length</strong> <a class="anchor-link"
            href="#length"
            title="Permalink to Document.length">#</a>
        </h4>
        <div class="doc">
<p>The number of rows in this document.</p>
<pre class="source">
int get length;
</pre>
</div>
</div>
<div class="field"><h4 id="newLineCharacter">
<button class="show-code">Code</button>
final String         <strong>newLineCharacter</strong> <a class="anchor-link"
            href="#newLineCharacter"
            title="Permalink to Document.newLineCharacter">#</a>
        </h4>
        <div class="doc">
<p>The current newline character, based on the current <a class="crossref" href="../ace/Document.html#newLineMode">newLineMode</a>.</p>
<pre class="source">
String get newLineCharacter;
</pre>
</div>
</div>
<div class="field"><h4 id="newLineMode">
<button class="show-code">Code</button>
String         <strong>newLineMode</strong> <a class="anchor-link"
            href="#newLineMode"
            title="Permalink to Document.newLineMode">#</a>
        </h4>
        <div class="doc">
<p>The new line mode.  May be one of <code>windows</code>, <code>unix</code> or <code>auto</code>.</p>
<pre class="source">
String newLineMode
</pre>
</div>
</div>
<div class="field"><h4 id="onChange">
<button class="show-code">Code</button>
final Stream&lt;<a href="../ace/Delta.html">Delta</a>&gt;         <strong>onChange</strong> <a class="anchor-link"
            href="#onChange"
            title="Permalink to Document.onChange">#</a>
        </h4>
        <div class="doc">
<p>Fired whenever this document changes.</p>
<pre class="source">
Stream&lt;Delta&gt; get onChange;
</pre>
</div>
</div>
<div class="field"><h4 id="value">
<button class="show-code">Code</button>
String         <strong>value</strong> <a class="anchor-link"
            href="#value"
            title="Permalink to Document.value">#</a>
        </h4>
        <div class="doc">
<p>All the lines in this document as a single string, split by the 
<a class="crossref" href="../ace/Document.html#newLineCharacter">newLineCharacter</a>.  </p>
<pre class="source">
String value
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="applyDeltas">
abstract void <strong>applyDeltas</strong>(List&lt;<a href="../ace/Delta.html">Delta</a>&gt; deltas) <a class="anchor-link" href="#applyDeltas"
              title="Permalink to Document.applyDeltas">#</a></h4>
<div class="doc">
<p>Applies all of the given 
<span class="param">deltas</span> to this document in the order given.</p>
</div>
</div>
<div class="method"><h4 id="createAnchor">
abstract <a href="../ace/Anchor.html">Anchor</a> <strong>createAnchor</strong>(int row, int column) <a class="anchor-link" href="#createAnchor"
              title="Permalink to Document.createAnchor">#</a></h4>
<div class="doc">
<p>Creates a new <a class="crossref" href="../ace/Anchor.html">Anchor</a> to define a floating point in this document.</p>
</div>
</div>
<div class="method inherited"><h4 id="dispose">
abstract void <strong>dispose</strong>() <a class="anchor-link" href="#dispose"
              title="Permalink to Document.dispose">#</a></h4>
<div class="inherited-from">inherited from <a href="../ace/_Disposable.html">_Disposable</a> </div><div class="doc">
<p>Dispose of any resources held by this object.</p>
<p>This method will release any javascript proxy objects help by this 
object.  It will also close any streams exposed by the object.  It is an
error to call any methods or access any fields of this object after this
method has been called.</p>
</div>
</div>
<div class="method"><h4 id="getAllLines">
abstract List&lt;String&gt; <strong>getAllLines</strong>() <a class="anchor-link" href="#getAllLines"
              title="Permalink to Document.getAllLines">#</a></h4>
<div class="doc">
<p>Returns a copy of all the lines in this document.</p>
</div>
</div>
<div class="method"><h4 id="getLine">
abstract String <strong>getLine</strong>(int row) <a class="anchor-link" href="#getLine"
              title="Permalink to Document.getLine">#</a></h4>
<div class="doc">
<p>Returns a verbatim copy of the given line 
<span class="param">row</span> as it is in this document.</p>
</div>
</div>
<div class="method"><h4 id="getLines">
abstract List&lt;String&gt; <strong>getLines</strong>(int firstRow, int lastRow) <a class="anchor-link" href="#getLines"
              title="Permalink to Document.getLines">#</a></h4>
<div class="doc">
<p>Returns a copy of the lines between 
<span class="param">firstRow</span> and 
<span class="param">lastRow</span>, inclusive.</p>
</div>
</div>
<div class="method"><h4 id="getTextRange">
abstract String <strong>getTextRange</strong>(<a href="../ace/Range.html">Range</a> range) <a class="anchor-link" href="#getTextRange"
              title="Permalink to Document.getTextRange">#</a></h4>
<div class="doc">
<p>Returns all of the text within the given 
<span class="param">range</span> of this document as a 
single string.</p>
</div>
</div>
<div class="method"><h4 id="indexToPosition">
abstract <a href="../ace/Point.html">Point</a> <strong>indexToPosition</strong>(int index, {int startRow: 0}) <a class="anchor-link" href="#indexToPosition"
              title="Permalink to Document.indexToPosition">#</a></h4>
<div class="doc">
<p>Converts the given character 
<span class="param">index</span> in this document to a <a class="crossref" href="../ace/Point.html">Point</a>.</p>
<p>Index refers to the "absolute position" of a character in this document.
For example:</p>
<pre><code>var x = 0; // 10 characters, plus one for newline
var y = -1;
</code></pre>
<p>Here, <code>y</code> has an index of <code>15</code>; <code>10</code> characters for the first row, a
newline character, and <code>5</code> characters until <code>y</code> in the second row. </p>
<p>The optional 
<span class="param">startRow</span> defaults to <code>0</code> and represents the row from which 
to start the conversion.</p>
</div>
</div>
<div class="method"><h4 id="insert">
abstract <a href="../ace/Point.html">Point</a> <strong>insert</strong>(<a href="../ace/Point.html">Point</a> position, String text) <a class="anchor-link" href="#insert"
              title="Permalink to Document.insert">#</a></h4>
<div class="doc">
<p>Inserts a block of 
<span class="param">text</span> at the given 
<span class="param">position</span> and returns a point at
the end of the inserted text.  This method also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
</div>
</div>
<div class="method"><h4 id="insertInLine">
abstract <a href="../ace/Point.html">Point</a> <strong>insertInLine</strong>(<a href="../ace/Point.html">Point</a> position, String text) <a class="anchor-link" href="#insertInLine"
              title="Permalink to Document.insertInLine">#</a></h4>
<div class="doc">
<p>Inserts 
<span class="param">text</span> into the 
<span class="param">position</span> at the current row and returns a point
at the end of the inserted text.  This method also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a>
event.</p>
</div>
</div>
<div class="method"><h4 id="insertLines">
abstract <a href="../ace/Point.html">Point</a> <strong>insertLines</strong>(int row, List&lt;String&gt; lines) <a class="anchor-link" href="#insertLines"
              title="Permalink to Document.insertLines">#</a></h4>
<div class="doc">
<p>Inserts the given 
<span class="param">lines</span> into the document, starting at the given 
<span class="param">row</span>
and returns a point at the end of the inserted lines.  This method also 
fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
</div>
</div>
<div class="method"><h4 id="insertNewLine">
abstract <a href="../ace/Point.html">Point</a> <strong>insertNewLine</strong>(<a href="../ace/Point.html">Point</a> position) <a class="anchor-link" href="#insertNewLine"
              title="Permalink to Document.insertNewLine">#</a></h4>
<div class="doc">
<p>Inserts a <a class="crossref" href="../ace/Document.html#newLineCharacter">newLineCharacter</a> into this document at the current row's 
position and returns a point at the end of the insertion.  This method 
also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
</div>
</div>
<div class="method"><h4 id="isNewLine">
abstract bool <strong>isNewLine</strong>(String text) <a class="anchor-link" href="#isNewLine"
              title="Permalink to Document.isNewLine">#</a></h4>
<div class="doc">
<p>Returns <code>true</code> if 
<span class="param">text</span> is a newline character.  That is, one of <code>\r\n</code>, 
<code>\r</code> or <code>\n</code>.</p>
</div>
</div>
<div class="method"><h4 id="positionToIndex">
abstract int <strong>positionToIndex</strong>(<a href="../ace/Point.html">Point</a> position, {int startRow: 0}) <a class="anchor-link" href="#positionToIndex"
              title="Permalink to Document.positionToIndex">#</a></h4>
<div class="doc">
<p>Converts the given 
<span class="param">position</span> in this document to the character's index.</p>
<p>Index refers to the "absolute position" of a character in this document.
For example:</p>
<pre><code>var x = 0; // 10 characters, plus one for newline
var y = -1;
</code></pre>
<p>Here, <code>y</code> has an index of <code>15</code>; <code>10</code> characters for the first row, a
newline character, and <code>5</code> characters until <code>y</code> in the second row. </p>
<p>The optional 
<span class="param">startRow</span> defaults to <code>0</code> and represents the row from which 
to start the conversion.</p>
</div>
</div>
<div class="method"><h4 id="remove">
abstract <a href="../ace/Point.html">Point</a> <strong>remove</strong>(<a href="../ace/Range.html">Range</a> range) <a class="anchor-link" href="#remove"
              title="Permalink to Document.remove">#</a></h4>
<div class="doc">
<p>Removes the given 
<span class="param">range</span> from this document.</p>
</div>
</div>
<div class="method"><h4 id="removeInLine">
abstract <a href="../ace/Point.html">Point</a> <strong>removeInLine</strong>(int row, int startColumn, int endColumn) <a class="anchor-link" href="#removeInLine"
              title="Permalink to Document.removeInLine">#</a></h4>
<div class="doc">
<p>Removes the range specified by <code>row/startColumn</code> -> <code>row/endColumn</code> and 
returns the removed <code>range.start</code> point.  </p>
<p>This method also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
</div>
</div>
<div class="method"><h4 id="removeLines">
abstract List&lt;String&gt; <strong>removeLines</strong>(int startRow, int endRow) <a class="anchor-link" href="#removeLines"
              title="Permalink to Document.removeLines">#</a></h4>
<div class="doc">
<p>Removes the range of lines from the given 
<span class="param">startRow</span> -> 
<span class="param">endRow</span>, 
inclusive, and returns the removed lines.  </p>
<p>This method also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
</div>
</div>
<div class="method"><h4 id="removeNewLine">
abstract void <strong>removeNewLine</strong>(int row) <a class="anchor-link" href="#removeNewLine"
              title="Permalink to Document.removeNewLine">#</a></h4>
<div class="doc">
<p>Removes the <a class="crossref" href="../ace/Document.html#newLineCharacter">newLineCharacter</a> between the given 
<span class="param">row</span> and the row 
immediately following it.  This method also fires an <a class="crossref" href="../ace/Document.html#onChange">onChange</a> event.</p>
</div>
</div>
<div class="method"><h4 id="replace">
abstract <a href="../ace/Point.html">Point</a> <strong>replace</strong>(<a href="../ace/Range.html">Range</a> range, String text) <a class="anchor-link" href="#replace"
              title="Permalink to Document.replace">#</a></h4>
<div class="doc">
<p>Replaces a given 
<span class="param">range</span> in this document with the new 
<span class="param">text</span> and returns
a point at the end of the new text.</p>
</div>
</div>
<div class="method"><h4 id="revertDeltas">
abstract void <strong>revertDeltas</strong>(List&lt;<a href="../ace/Delta.html">Delta</a>&gt; deltas) <a class="anchor-link" href="#revertDeltas"
              title="Permalink to Document.revertDeltas">#</a></h4>
<div class="doc">
<p>Reverts all of the given 
<span class="param">deltas</span> to this document in reverse of the 
order given.</p>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2014-01-02 11:05:15.366</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
